var h=void 0,l=true,m=null,n=false,p,q=this;function r(){}
function aa(a){var b=typeof a;if(b=="object")if(a){if(a instanceof Array)return"array";else if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(c=="[object Window]")return"object";if(c=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(c=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if(b=="function"&&typeof a.call=="undefined")return"object";return b}function t(a){return a!==h}function u(a){return aa(a)=="array"}function ba(a){var b=aa(a);return b=="array"||b=="object"&&typeof a.length=="number"}function w(a){return typeof a=="string"}function ca(a){return typeof a=="number"}function da(a){return aa(a)=="function"}function ea(a){a=aa(a);return a=="object"||a=="array"||a=="function"}function x(a){return a[fa]||(a[fa]=++ga)}
var fa="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),ga=0;function ha(a,b,c){return a.call.apply(a.bind,arguments)}function ia(a,b,c){if(!a)throw Error();if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}else return function(){return a.apply(b,arguments)}}
function ja(a,b,c){ja=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ha:ia;return ja.apply(m,arguments)}function ka(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var la=Date.now||function(){return+new Date};function y(a,b){function c(){}c.prototype=b.prototype;a.Ya=b.prototype;a.prototype=new c};var ma={},na,oa,pa;function z(a,b){this.x=t(a)?a:0;this.y=t(b)?b:0}z.prototype.d=function(){return new z(this.x,this.y)};function qa(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}qa.prototype.d=function(){return new qa(this.top,this.right,this.bottom,this.left)};qa.prototype.contains=function(a){return!this||!a?n:a instanceof qa?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};
qa.prototype.expand=function(a,b,c,d){ea(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=b,this.bottom+=c,this.left-=d);return this};function A(a,b){this.width=a;this.height=b}p=A.prototype;p.d=function(){return new A(this.width,this.height)};function ra(a){return a.width*a.height}p.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};p.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};p.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
p.scale=function(a){this.width*=a;this.height*=a;return this};qa.prototype.size=function(){return new A(this.right-this.left,this.bottom-this.top)};function sa(){}sa.prototype.v=r;function B(a){return a.Qc?a.Qc:a}function ta(a,b){ua(b,a);b.Qc=B(a);return b};var C=new sa;C.Ia=function(){};
C.Ld=function(){var a=this.Ra,b=this.Lb(),c=this.ea||1,d=c/a,e;if(this.a){this.zb&&this.zb.contains(b)&&(e=ra(this.zb.size())/ra(b.size()))&&e<1.6&&e>0.5?b=this.zb:this.Be!=1&&this.e.length!=0&&(this instanceof D||b.expand(12,12,12,12));this.zb=b;var f=b.size();e=f.d().scale(c).ceil();if(this.a.width!=e.width||this.a.height!=e.height)this.a.width=e.width,this.a.height=e.height,this.Nb=1;var g=this.t.d();this.k[E]&&(g=this.k[E]);e.width!=0?g.scale(f.width*d/e.width):g.scale(1/a);a=F(this);this.$b=
(a.left-b.left)*c;this.ac=(a.top-b.top)*c;b=this.f().d();a=this.aa;b.width*=a.x;b.height*=a.y;b=b.scale(c);c=this.h.d();this.k[G]&&(c=this.k[G]);c.x*=d;c.y*=d;c.x-=b.width+this.$b;c.y-=b.height+this.ac;va(this.a,(this.$b+b.width)/e.width*100,(this.ac+b.height)/e.height*100,l);!this.V[G]&&!this.V[E]&&!this.V[wa]&&(d=-(this.fa%=360),t(this.k[wa])&&(d=-this.k[wa]),xa(this.a,ya(new za,0.1).translate(c.x,c.y).scale(g.x,g.y).rotate(d)));if(this.Nb)d=this.a.getContext("2d"),c=this.ea||1,d.clearRect(0,0,
e.width,e.height),d.save(),d.translate(this.$b,this.ac),d.scale(c,c),e=this.f(),g=this.aa,d.translate(e.width*g.x,e.height*g.y),this.n.fd.call(this,d),d.restore(),this.Nb=0}};C.update=function(){};
C.fd=function(a){if(this.r&&(this.j!=this.ka&&(this.ka&&I.Ad.call(this),this.j&&I.Lc.call(this)),!this.Ea&&!this.Eb&&!(this.B==0||this.oc==1))){this.B!=1&&(a.globalAlpha*=this.B);if(this.j){I.Tc.call(this.j);var b=this.ka,c=this.t;a.save();a.save();a.translate(b.qd.x,b.qd.y);a.rotate(-b.rd);this.qb&&a.rotate((this.fa%=360)*Math.PI/180);a.beginPath();a.moveTo(0,0);a.lineTo(b.sc/c.x,0);a.lineTo(b.sc/c.x,b.rc/c.y);a.lineTo(0,b.rc/c.y);a.closePath();a.restore();a.clip()}b=new z(0,0);this.n.v.call(this,
a);for(var d=0,e;e=this.e[d];d++){var f=Aa(e,b).d(),g=e.fa%=360,c=e.t;a.save();a.translate(f.x,f.y);a.scale(c.x,c.y);g!=0&&a.rotate(-g*Math.PI/180);this.n.fd.call(e,a);a.restore()}this.B!=1&&(a.globalAlpha/=this.B);this.ka&&a.restore()}};function Ba(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function Ca(a){if(!Da.test(a))return a;a.indexOf("&")!=-1&&(a=a.replace(Ea,"&amp;"));a.indexOf("<")!=-1&&(a=a.replace(Fa,"&lt;"));a.indexOf(">")!=-1&&(a=a.replace(Ga,"&gt;"));a.indexOf('"')!=-1&&(a=a.replace(Ha,"&quot;"));return a}var Ea=/&/g,Fa=/</g,Ga=/>/g,Ha=/\"/g,Da=/[&<>\"]/;
function Ia(a,b){for(var c=0,d=Ba(String(a)).split("."),e=Ba(String(b)).split("."),f=Math.max(d.length,e.length),g=0;c==0&&g<f;g++){var j=d[g]||"",k=e[g]||"",o=RegExp("(\\d*)(\\D*)","g"),v=RegExp("(\\d*)(\\D*)","g");do{var s=o.exec(j)||["","",""],H=v.exec(k)||["","",""];if(s[0].length==0&&H[0].length==0)break;c=Ja(s[1].length==0?0:parseInt(s[1],10),H[1].length==0?0:parseInt(H[1],10))||Ja(s[2].length==0,H[2].length==0)||Ja(s[2],H[2])}while(c==0)}return c}
function Ja(a,b){if(a<b)return-1;else if(a>b)return 1;return 0};var J=Array.prototype,Ka=J.indexOf?function(a,b,c){return J.indexOf.call(a,b,c)}:function(a,b,c){c=c==m?0:c<0?Math.max(0,a.length+c):c;if(w(a))return!w(b)||b.length!=1?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},La=J.forEach?function(a,b,c){J.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=w(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ma=J.filter?function(a,b,c){return J.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=w(a)?
a.split(""):a,j=0;j<d;j++)if(j in g){var k=g[j];b.call(c,k,j,a)&&(e[f++]=k)}return e},Na=J.map?function(a,b,c){return J.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=w(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e};function Oa(a,b){Ka(a,b)>=0||a.push(b)}function Pa(a,b){var c=Ka(a,b);c>=0&&J.splice.call(a,c,1)}function Qa(a){return J.concat.apply(J,arguments)}
function Ra(a){if(u(a))return Qa(a);else{for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}}function Sa(a){return u(a)?Qa(a):Ra(a)}function Ta(a,b,c,d){return J.splice.apply(a,Ua(arguments,1))}function Ua(a,b,c){return arguments.length<=2?J.slice.call(a,b):J.slice.call(a,b,c)}function Va(a){for(var b={},c=0,d=0;d<a.length;){var e=a[d++],f=ea(e)?"o"+x(e):(typeof e).charAt(0)+e;Object.prototype.hasOwnProperty.call(b,f)||(b[f]=l,a[c++]=e)}a.length=c};function K(a,b){this.x=a;this.y=b}y(K,z);K.prototype.d=function(){return new K(this.x,this.y)};K.prototype.scale=function(a){this.x*=a;this.y*=a;return this};var Wa,Xa,Ya,Za,$a,ab;function bb(){return q.navigator?q.navigator.userAgent:m}$a=Za=Ya=Xa=Wa=n;var cb;if(cb=bb()){var db=q.navigator;Wa=cb.indexOf("Opera")==0;Xa=!Wa&&cb.indexOf("MSIE")!=-1;Za=(Ya=!Wa&&cb.indexOf("WebKit")!=-1)&&cb.indexOf("Mobile")!=-1;$a=!Wa&&!Ya&&db.product=="Gecko"}var eb=Wa,M=Xa,fb=$a,N=Ya,gb=Za,hb,ib=q.navigator;hb=ib&&ib.platform||"";ab=hb.indexOf("Mac")!=-1;var jb=hb.indexOf("Win")!=-1,kb;
a:{var lb="",mb;if(eb&&q.opera)var nb=q.opera.version,lb=typeof nb=="function"?nb():nb;else if(fb?mb=/rv\:([^\);]+)(\)|;)/:M?mb=/MSIE\s+([^\);]+)(\)|;)/:N&&(mb=/WebKit\/(\S+)/),mb)var ob=mb.exec(bb()),lb=ob?ob[1]:"";if(M){var pb,qb=q.document;pb=qb?qb.documentMode:h;if(pb>parseFloat(lb)){kb=String(pb);break a}}kb=lb}var sb={};function tb(a){return sb[a]||(sb[a]=Ia(kb,a)>=0)}var ub={};function vb(){return ub[9]||(ub[9]=M&&document.documentMode&&document.documentMode>=9)};function wb(a,b){for(var c in a)b.call(h,a[c],c,a)}var xb="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");function ua(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<xb.length;f++)c=xb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var yb;!M||vb();var zb=M&&!tb("8");function Ab(){}Ab.prototype.ed=n;Ab.prototype.Ma=function(){if(!this.ed)this.ed=l,this.da()};Ab.prototype.da=function(){this.Kd&&Bb.apply(m,this.Kd)};function Bb(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];ba(d)?Bb.apply(m,d):d&&typeof d.Ma=="function"&&d.Ma()}};function Cb(a,b){this.type=a;this.currentTarget=this.target=b}y(Cb,Ab);p=Cb.prototype;p.da=function(){delete this.type;delete this.target;delete this.currentTarget};p.ra=n;p.tb=l;p.stopPropagation=function(){this.ra=l};p.preventDefault=function(){this.tb=n};var Db=new Function("a","return a");function Eb(a,b){a&&this.Fb(a,b)}y(Eb,Cb);p=Eb.prototype;p.target=m;p.relatedTarget=m;p.offsetX=0;p.offsetY=0;p.clientX=0;p.clientY=0;p.screenX=0;p.screenY=0;p.button=0;p.keyCode=0;p.charCode=0;p.ctrlKey=n;p.altKey=n;p.shiftKey=n;p.metaKey=n;p.de=n;p.oa=m;
p.Fb=function(a,b){var c=this.type=a.type;Cb.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(fb){var e;a:{try{Db(d.nodeName);e=l;break a}catch(f){}e=n}e||(d=m)}}else if(c=="mouseover")d=a.fromElement;else if(c=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==h?a.offsetX:a.layerX;this.offsetY=a.offsetY!==h?a.offsetY:a.layerY;this.clientX=a.clientX!==h?a.clientX:a.pageX;this.clientY=a.clientY!==h?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.de=ab?a.metaKey:a.ctrlKey;this.state=a.state;this.oa=a;delete this.tb;delete this.ra};p.stopPropagation=function(){Eb.Ya.stopPropagation.call(this);this.oa.stopPropagation?this.oa.stopPropagation():this.oa.cancelBubble=l};
p.preventDefault=function(){Eb.Ya.preventDefault.call(this);var a=this.oa;if(a.preventDefault)a.preventDefault();else if(a.returnValue=n,zb)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(b){}};p.da=function(){Eb.Ya.da.call(this);this.relatedTarget=this.currentTarget=this.target=this.oa=m};function Fb(){}var Gb=0;p=Fb.prototype;p.key=0;p.Sa=n;p.Vc=n;p.Fb=function(a,b,c,d,e,f){if(da(a))this.nd=l;else if(a&&a.handleEvent&&da(a.handleEvent))this.nd=n;else throw Error("Invalid listener argument");this.nb=a;this.zd=b;this.src=c;this.type=d;this.capture=!!e;this.kc=f;this.Vc=n;this.key=++Gb;this.Sa=n};p.handleEvent=function(a){return this.nd?this.nb.call(this.kc||this.src,a):this.nb.handleEvent.call(this.nb,a)};var Hb,Ib=(Hb="ScriptEngine"in q&&q.ScriptEngine()=="JScript")?q.ScriptEngineMajorVersion()+"."+q.ScriptEngineMinorVersion()+"."+q.ScriptEngineBuildVersion():"0";function O(a,b){this.td=b;this.Ba=[];if(a>this.td)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var c=0;c<a;c++)this.Ba.push(this.ha?this.ha():{})}y(O,Ab);O.prototype.ha=m;O.prototype.dd=m;function Jb(a){return a.Ba.length?a.Ba.pop():a.ha?a.ha():{}}function Kb(a,b){a.Ba.length<a.td?a.Ba.push(b):Lb(a,b)}function Lb(a,b){if(a.dd)a.dd(b);else if(ea(b))if(da(b.Ma))b.Ma();else for(var c in b)delete b[c]}
O.prototype.da=function(){O.Ya.da.call(this);for(var a=this.Ba;a.length;)Lb(this,a.pop());delete this.Ba};var Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb;
(function(){function a(){return{ca:0,Y:0}}function b(){return[]}function c(){function a(b){b=g.call(a.src,a.key,b);if(!b)return b}return a}function d(){return new Fb}function e(){return new Eb}var f=Hb&&!(Ia(Ib,"5.7")>=0),g;Rb=function(a){g=a};if(f){Mb=function(){return Jb(j)};Nb=function(a){Kb(j,a)};Ob=function(){return Jb(k)};Pb=function(a){Kb(k,a)};Qb=function(){return Jb(o)};Sb=function(){Kb(o,c())};Tb=function(){return Jb(v)};Ub=function(a){Kb(v,a)};Vb=function(){return Jb(s)};Wb=function(a){Kb(s,
a)};var j=new O(0,600);j.ha=a;var k=new O(0,600);k.ha=b;var o=new O(0,600);o.ha=c;var v=new O(0,600);v.ha=d;var s=new O(0,600);s.ha=e}else Mb=a,Nb=r,Ob=b,Pb=r,Qb=c,Sb=r,Tb=d,Ub=r,Vb=e,Wb=r})();var Xb={},P={},Yb={},Zb={};
function Q(a,b,c,d,e){if(b)if(u(b)){for(var f=0;f<b.length;f++)Q(a,b[f],c,d,e);return m}else{var d=!!d,g=P;b in g||(g[b]=Mb());g=g[b];d in g||(g[d]=Mb(),g.ca++);var g=g[d],j=x(a),k;g.Y++;if(g[j]){k=g[j];for(f=0;f<k.length;f++)if(g=k[f],g.nb==c&&g.kc==e){if(g.Sa)break;return k[f].key}}else k=g[j]=Ob(),g.ca++;f=Qb();f.src=a;g=Tb();g.Fb(c,f,a,b,d,e);c=g.key;f.key=c;k.push(g);Xb[c]=g;Yb[j]||(Yb[j]=Ob());Yb[j].push(g);a.addEventListener?(a==q||!a.dc)&&a.addEventListener(b,f,d):a.attachEvent(b in Zb?Zb[b]:
Zb[b]="on"+b,f);return c}else throw Error("Invalid event type");}function $b(a,b,c,d,e){if(u(b))for(var f=0;f<b.length;f++)$b(a,b[f],c,d,e);else{d=!!d;a:{f=P;if(b in f&&(f=f[b],d in f&&(f=f[d],a=x(a),f[a]))){a=f[a];break a}a=m}if(a)for(f=0;f<a.length;f++)if(a[f].nb==c&&a[f].capture==d&&a[f].kc==e){ac(a[f].key);break}}}
function ac(a){if(Xb[a]){var b=Xb[a];if(!b.Sa){var c=b.src,d=b.type,e=b.zd,f=b.capture;c.removeEventListener?(c==q||!c.dc)&&c.removeEventListener(d,e,f):c.detachEvent&&c.detachEvent(d in Zb?Zb[d]:Zb[d]="on"+d,e);c=x(c);e=P[d][f][c];if(Yb[c]){var g=Yb[c];Pa(g,b);g.length==0&&delete Yb[c]}b.Sa=l;e.vd=l;bc(d,f,c,e);delete Xb[a]}}}
function bc(a,b,c,d){if(!d.Jb&&d.vd){for(var e=0,f=0;e<d.length;e++)if(d[e].Sa){var g=d[e].zd;g.src=m;Sb(g);Ub(d[e])}else e!=f&&(d[f]=d[e]),f++;d.length=f;d.vd=n;f==0&&(Pb(d),delete P[a][b][c],P[a][b].ca--,P[a][b].ca==0&&(Nb(P[a][b]),delete P[a][b],P[a].ca--),P[a].ca==0&&(Nb(P[a]),delete P[a]))}}
function cc(a){var b,c=0,d=b==m;b=!!b;if(a==m)wb(Yb,function(a){for(var e=a.length-1;e>=0;e--){var f=a[e];if(d||b==f.capture)ac(f.key),c++}});else if(a=x(a),Yb[a])for(var a=Yb[a],e=a.length-1;e>=0;e--){var f=a[e];if(d||b==f.capture)ac(f.key),c++}}function dc(a,b,c,d,e){var f=1,b=x(b);if(a[b]){a.Y--;a=a[b];a.Jb?a.Jb++:a.Jb=1;try{for(var g=a.length,j=0;j<g;j++){var k=a[j];k&&!k.Sa&&(f&=ec(k,e)!==n)}}finally{a.Jb--,bc(c,d,b,a)}}return Boolean(f)}
function ec(a,b){var c=a.handleEvent(b);a.Vc&&ac(a.key);return c}
Rb(function(a,b){if(!Xb[a])return l;var c=Xb[a],d=c.type,e=P;if(!(d in e))return l;var e=e[d],f,g;yb===h&&(yb=M&&!q.addEventListener);if(yb){var j;if(!(j=b))a:{j="window.event".split(".");for(var k=q;f=j.shift();)if(k[f]!=m)k=k[f];else{j=m;break a}j=k}f=j;j=l in e;k=n in e;if(j){if(f.keyCode<0||f.returnValue!=h)return l;a:{var o=n;if(f.keyCode==0)try{f.keyCode=-1;break a}catch(v){o=l}if(o||f.returnValue==h)f.returnValue=l}}o=Vb();o.Fb(f,this);f=l;try{if(j){for(var s=Ob(),H=o.currentTarget;H;H=H.parentNode)s.push(H);
g=e[l];g.Y=g.ca;for(var L=s.length-1;!o.ra&&L>=0&&g.Y;L--)o.currentTarget=s[L],f&=dc(g,s[L],d,l,o);if(k){g=e[n];g.Y=g.ca;for(L=0;!o.ra&&L<s.length&&g.Y;L++)o.currentTarget=s[L],f&=dc(g,s[L],d,n,o)}}else f=ec(c,o)}finally{if(s)s.length=0,Pb(s);o.Ma();Wb(o)}return f}d=new Eb(b,this);try{f=ec(c,d)}finally{d.Ma()}return f});function fc(){}y(fc,Ab);p=fc.prototype;p.dc=l;p.wc=m;p.addEventListener=function(a,b,c,d){Q(this,a,b,c,d)};p.removeEventListener=function(a,b,c,d){$b(this,a,b,c,d)};
p.dispatchEvent=function(a){var b=a.type||a,c=P;if(b in c){if(w(a))a=new Cb(a,this);else if(a instanceof Cb)a.target=a.target||this;else{var d=a,a=new Cb(b,this);ua(a,d)}var d=1,e,c=c[b],b=l in c,f;if(b){e=[];for(f=this;f;f=f.wc)e.push(f);f=c[l];f.Y=f.ca;for(var g=e.length-1;!a.ra&&g>=0&&f.Y;g--)a.currentTarget=e[g],d&=dc(f,e[g],a.type,l,a)&&a.tb!=n}if(n in c)if(f=c[n],f.Y=f.ca,b)for(g=0;!a.ra&&g<e.length&&f.Y;g++)a.currentTarget=e[g],d&=dc(f,e[g],a.type,n,a)&&a.tb!=n;else for(e=this;!a.ra&&e&&f.Y;e=
e.wc)a.currentTarget=e,d&=dc(f,e,a.type,n,a)&&a.tb!=n;a=Boolean(d)}else a=l;return a};p.da=function(){fc.Ya.da.call(this);cc(this);this.wc=m};var gc,hc,ic,jc,kc,lc=bb();hc=(gc=N&&gb&&/(ipod|iphone|ipad)/i.test(lc))&&da(Object.freeze);ic=N&&gb&&/(android)/i.test(lc);jc=N&&/playbook/i.test(lc);kc=t(document.ontouchmove);var mc;function nc(a,b){var c;c=(c=a.className)&&typeof c.split=="function"?c.split(/\s+/):[];var d=Ua(arguments,1),e;e=c;for(var f=0,g=0;g<d.length;g++)Ka(e,d[g])>=0||(e.push(d[g]),f++);e=f==d.length;a.className=c.join(" ");return e};var oc=!M||vb();!fb&&!M||M&&vb()||fb&&tb("1.9.1");M&&tb("9");function pc(a){return a?new qc(rc(a)):mc||(mc=new qc)}function sc(a,b){var c=b&&b!="*"?b.toUpperCase():"";return a.querySelectorAll&&a.querySelector&&(!N||tc(document)||tb("528"))&&c?a.querySelectorAll(c+""):a.getElementsByTagName(c||"*")}function uc(a,b){wb(b,function(b,d){d=="style"?a.style.cssText=b:d=="class"?a.className=b:d=="for"?a.htmlFor=b:d in vc?a.setAttribute(vc[d],b):d.lastIndexOf("aria-",0)==0?a.setAttribute(d,b):a[d]=b})}
var vc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:"type"};
function wc(a){var b=a.document;if(N&&!tb("500")&&!gb){typeof a.innerHeight=="undefined"&&(a=window);var b=a.innerHeight,c=a.document.documentElement.scrollHeight;a==a.top&&c<b&&(b-=15);return new A(a.innerWidth,b)}a=tc(b)?b.documentElement:b.body;return new A(a.clientWidth,a.clientHeight)}function xc(a,b,c){return yc(document,arguments)}
function yc(a,b){var c=b[0],d=b[1];if(!oc&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Ca(d.name),'"');if(d.type){c.push(' type="',Ca(d.type),'"');var e={};ua(e,d);d=e;delete d.type}c.push(">");c=c.join("")}c=a.createElement(c);if(d)w(d)?c.className=d:u(d)?nc.apply(m,[c].concat(d)):uc(c,d);b.length>2&&zc(a,c,b,2);return c}
function zc(a,b,c,d){function e(c){c&&b.appendChild(w(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var f=c[d];ba(f)&&!(ea(f)&&f.nodeType>0)?La(Ac(f)?Ra(f):f,e):e(f)}}function tc(a){return a.compatMode=="CSS1Compat"}function Bc(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)}function Cc(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)}function Dc(a){a&&a.parentNode&&a.parentNode.removeChild(a)}
function Ec(a,b){if(a.contains&&b.nodeType==1)return a==b||a.contains(b);if(typeof a.compareDocumentPosition!="undefined")return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function rc(a){return a.nodeType==9?a:a.ownerDocument||a.document}
function Fc(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&a.firstChild.nodeType==3){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else{for(var c;c=a.firstChild;)a.removeChild(c);a.appendChild(rc(a).createTextNode(b))}}function Ac(a){if(a&&typeof a.length=="number")if(ea(a))return typeof a.item=="function"||typeof a.item=="string";else if(da(a))return typeof a.item=="function";return n}function qc(a){this.na=a||q.document||document}p=qc.prototype;
p.$c=function(a,b,c){return yc(this.na,arguments)};p.createElement=function(a){return this.na.createElement(a)};p.createTextNode=function(a){return this.na.createTextNode(a)};p.appendChild=function(a,b){a.appendChild(b)};p.append=function(a,b){zc(rc(a),a,arguments,1)};p.contains=Ec;function Gc(a,b){var c;a:{c=rc(a);if(c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,m))){c=c[b]||c.getPropertyValue(b);break a}c=""}return c||(a.currentStyle?a.currentStyle[b]:m)||a.style[b]}function Hc(a){var b=a.getBoundingClientRect();if(M)a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop;return b}
function Ic(a){if(M)return a.offsetParent;for(var b=rc(a),c=Gc(a,"position"),d=c=="fixed"||c=="absolute",a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=Gc(a,"position"),d=d&&c=="static"&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||c=="fixed"||c=="absolute"||c=="relative"))return a;return m}function Jc(a,b,c){if(b instanceof A)c=b.height,b=b.width;else if(c==h)throw Error("missing height argument");a.style.width=Kc(b);a.style.height=Kc(c)}
function Kc(a){typeof a=="number"&&(a=Math.round(a)+"px");return a}function Lc(a){if(Gc(a,"display")!="none")return Mc(a);var b=a.style,c=b.display,d=b.visibility,e=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=Mc(a);b.display=c;b.position=e;b.visibility=d;return a}function Mc(a){var b=a.offsetWidth,c=a.offsetHeight,d=N&&!b&&!c;return(!t(b)||d)&&a.getBoundingClientRect?(a=Hc(a),new A(a.right-a.left,a.bottom-a.top)):new A(b,c)}
function Nc(a){var b=pc(h),c=m;if(M)c=b.na.createStyleSheet(),Oc(c,a);else{var d=sc(b.na,"head")[0];d||(c=sc(b.na,"body")[0],d=b.$c("head"),c.parentNode.insertBefore(d,c));c=b.$c("style");Oc(c,a);b.appendChild(d,c)}return c}function Oc(a,b){M?a.cssText=b:a[N?"innerText":"innerHTML"]=b};var Pc,Qc,Rc,Sc,Tc,Uc,Vc;(function(){var a=N?"Webkit":fb?"Moz":eb?"O":M?"ms":"",b=xc("div").style;Pc="-"+a.toLowerCase()+"-transform";Qc=function(a){return b[a]!==h?a:n};Rc=function(b){var d=b.charAt(0).toLowerCase()+b.substr(1),e=a+b;return Qc(b)?b:Qc(d)?d:Qc(e)?e:h}})();var Wc=function(){var a=Rc("BorderRadius");return function(b,c,d,e){e=e?"%":"px";d=t(d)?d:c;c=(u(c)?c.join(e+" "):c)+e+"/"+((u(d)?d.join(e+" "):d)+e);if(c!=b.Id)b.style[a]=b.Id=c}}();
function za(a){this.Vb=[];this.Qa=1;this.xe&&ya(this,a)}za.prototype.scale=function(a,b){this.Vb.push("scale("+a+","+b+")");return this};za.prototype.rotate=function(a,b){a!=0&&this.Vb.push("rotate("+a+(b?b:"deg")+")");return this};za.prototype.translate=function(a,b,c){var d=1/this.Qa,e="translate";if(gc||jc)e+="3d";e+="("+a*d+"px,"+b*d+"px";if(gc||jc)e+=","+(c?c:0)*d+"px";this.Vb.push(e+")");return this};
function ya(a,b){if(a.Qa!=1){var c=1/a.Qa;a.scale(c,c);a.Qa=1}if(b!=1)a.scale(b,b),a.Qa=b;return a}za.prototype.toString=function(){this.Qa!=1&&ya(this,1);return this.Vb.join(" ")};var xa=function(){var a=Rc("Transform");return function(b,c){var d=c.toString();if(d!=b.oe)b.style[a]=b.oe=d;na=1}}(),va=function(){var a=Rc("TransformOrigin");return function(b,c,d,e){e=e?"%":"px";c=c+e+" "+d+e;if(c!=b.pe)b.style[a]=b.pe=c}}();
(function(){function a(a,b){if(!a.length)return a;for(var e=a.split("),"),f=0;f<e.length-1;f++)e[f]+=")";e=Ma(e,function(a){return a.indexOf(b)==-1});return e.join(",")}var b=Rc("Transition");Sc=!!b&&!eb;Tc=function(c,d,e,f){if(b){var g=a(c.style[b],d);g.length&&(g+=", ");g+=d+" "+e+"s cubic-bezier("+f[1]+","+f[2]+","+f[3]+","+f[4]+")";c.style[b]=g}};Uc=function(c,d){b&&c&&(c.style[b]=a(c.style[b],d))};Vc=function(a,b,e){if(a.qe!=b||a.Td!=e)a.qe=b,a.Td=e,Jc(a,b,e)}})();var I=new sa;I.Ia=function(){for(var a=0,b,c=0;b=this.e[c];c++)b=b instanceof R?b.C:b,b==this.a.childNodes[a]?a++:(Ec(this.S,b)&&Dc(b),I.Gd(this.S,b,a++))};
I.Md=function(){var a=this.f(),b=this.Ra,c=this.h,d=this.ea||1;this.k[G]&&(c=this.k[G]);var e=Math.round(a.width*d),f=Math.round(a.height*d),g=this.t.d();this.k[E]&&(g=this.k[E].d());e!=0?g.scale(a.width/(e*b/d)):g.scale(1/b);Vc(this.a,e,f);va(this.a,this.aa.x*100,this.aa.y*100,l);e=this.aa.x*a.width*d;f=this.aa.y*a.height*d;a=c.x*d/b-e;b=c.y*d/b-f;c=this.O?this.O.Wb:0;(e-c!=0||f-c!=0)&&this.a==this.S&&this.e.length&&I.$d.call(this);this.a!=this.S&&!this.V[G]&&!this.V[E]&&!this.V[wa]&&xa(this.S,(new za).translate(e-
c,f-c));this.j!=this.ka&&(this.ka&&I.Ad.call(this),this.j&&I.Lc.call(this));c=ya(new za,0.1);this.j&&(I.Tc.call(this.j),ya(ya(c,0.1).translate(-this.j.Yd-e,-this.j.Zd-f).rotate(this.j.rd,"rad").translate(e,f),1));e=-(this.fa%=360);t(this.k[wa])&&(e=-this.k[wa]);c.translate(a,b).scale(g.x,g.y).rotate(e);!this.V[G]&&!this.V[E]&&!this.V[wa]&&xa(this.a,c)};
I.update=function(){if(this.a){I.Md.call(this);if(!this.V[Xc]){var a=this.B;t(this.k[Xc])&&(a=this.k[Xc]);if(this.A&Yc){var b=this.a.style;if("opacity"in b)b.opacity=a;else if("MozOpacity"in b)b.MozOpacity=a;else if("filter"in b)b.filter=a===""?"":"alpha(opacity="+a*100+")"}}this.A&Zc&&(this.a.style.display=this.Eb?"none":"block");this.Ea||this.n.v.call(this,this.a)}};
I.Tc=function(){if(t(this.Gc)&&this.Gc.r){var a=this.Gc,b=F(this),c=new z(b.left,b.top),d=new z(b.right,b.top),e=new z(b.right,b.bottom),b=a.getParent(),c=!this.r?c:b.ja(this.ob(c)),d=!this.r?d:b.ja(this.ob(d)),e=!this.r?e:b.ja(this.ob(e)),b=Math.atan2(c.y-d.y,d.x-c.x),f=d.x-c.x,g=c.y-d.y,j=e.x-d.x,k=e.y-d.y,d=Math.cos(b),e=Math.sin(b);this.sc=Math.round(Math.sqrt(f*f+g*g));this.rc=Math.round(Math.sqrt(j*j+k*k));if(B(a.n)==I)f=a.C,Jc(f,this.sc,this.rc),xa(f,ya(new za,0.1).translate(c.x,c.y).rotate(-b,
"rad"));B(this.n)==I&&(this.a.style.display="none");this.qd=$c(a,c.d());this.Xd=l;this.Yd=d*c.x-e*c.y;this.Zd=d*c.y+e*c.x;this.rd=b}};I.Gd=function(a,b,c){c==h||a.childNodes.length<=c?a.appendChild(b):a.insertBefore(b,a.childNodes[c])};I.$d=function(){this.S=xc("div");for(var a=document.createDocumentFragment(),b;b=this.a.firstChild;)this.a.removeChild(b),a.appendChild(b);this.S.appendChild(a);this.a.appendChild(this.S)};
I.Ad=function(){if(this.a!=this.C){if(B(this.n)==I){Dc(this.a);var a=this.C,b=a.parentNode;b&&b.replaceChild(this.a,a);this.C=this.a}this.ka.oc=0;this.ka=m}};I.Lc=function(){if(B(this.n)==I){this.C=xc("div");this.C.style.cssText="position:absolute;overflow:hidden;";va(this.C,0,0);var a=this.a,b=a.parentNode;b&&b.replaceChild(this.C,a);this.C.appendChild(this.a)}this.j.oc=1;this.j.Gc=this;this.ka=this.j;S(this.j,ad)};function bd(a,b){this.ba=Hb?[]:"";a!=m&&this.append.apply(this,arguments)}Hb?(bd.prototype.bc=0,bd.prototype.append=function(a,b,c){b==m?this.ba[this.bc++]=a:(this.ba.push.apply(this.ba,arguments),this.bc=this.ba.length);return this}):bd.prototype.append=function(a,b,c){this.ba+=a;if(b!=m)for(var d=1;d<arguments.length;d++)this.ba+=arguments[d];return this};bd.prototype.clear=function(){Hb?this.bc=this.ba.length=0:this.ba=""};
bd.prototype.toString=function(){if(Hb){var a=this.ba.join("");this.clear();a&&this.append(a);return a}else return this.ba};M&&tb(8);(function(){var a=[[],[]],b=[[],[]];oa=function(c,d,e){Oa((e?b:a)[d||0],c)};pa=function(){for(var c,d=0;d<2;d++){for(;a[d].length;)c=a[d][0],c.update(d),c.A=0,c==a[d][0]&&a[d].shift();a[d]=[]}b=[[],[]]}})();var ad=1,Yc=16,Zc=32,G=1,E=2,wa=4,Xc=5,cd;var dd=new bd;
dd.append(".","lime-director"," {position:absolute; -webkit-transform-origin: 0 0; -moz-transform-origin: 0 0; -o-transform-origin: 0 0; image-rendering:  optimizeSpeed; overflow: hidden;}.","lime-director"," div, .","lime-director"," img, .","lime-director"," canvas {-webkit-transform-origin: 0 0; -moz-transform-origin: 0 0; -o-transform-origin: 0 0; position: absolute; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; -moz-user-select: none; -webkit-user-select: none; -webkit-user-drag: none;}.",
"lime-scene"," {position:absolute; width:100%; height:100%; left: 0px; top: 0px; overflow: hidden; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box;}.","lime-fps"," {float: left; background: #333; color: #fff; position: absolute; top:0px; left: 0px; padding:2px 4px;}div.","lime-layer"," {position: absolute; left: 0px; top: 0px; width:0px; height:0px; border: none !important;}.","lime-cover"," {position: absolute; left: 0px; top: 0px;}.","lime-button"," {cursor: pointer;}");
cd=dd.toString();Nc(cd);function R(){this.e=[];this.g=m;this.ua={};this.k={};this.V={};this.Hc={};this.r=n;this.Cc=this.fc=m;this.D={};this.Va(1);this.b(0,0);this.c(0,0);this.Ra=1;this.N(0.5,0.5);this.fa=0;this.k[wa]||S(this,ad);this.Pc=0;S(this,7);this.B=1;ed(this,m);fd(this,B(this.Fa[0]));S(this,64)}y(R,fc);p=R.prototype;p.Fa=[I,C];function fd(a,b){if(!a.n||B(a.n)!=b){for(var c=-1,d=0;d<a.Fa.length;d++)if(B(a.Fa[d])==b){c=d;break}if(c==-1)return a;a.n=a.Fa[d];S(a,64);for(d=0;c=a.e[d];d++)fd(c,b)}return a}
p.qb=function(){return!(this.g&&B(this.g.n)==C)};function gd(a){if(a.qb())return a.qb()?hd(a):id(a),a;else if(a.g)return gd(a.g);return m}function jd(a){if(!a.g||a instanceof D)return[];var b=a.g.e.indexOf(a),a=jd(a.g);a.push(b);return a}function kd(a,b){if(a==b)return 0;for(var c=jd(a),d=jd(b),e=0;;){if(c.length<=e)return 1;if(d.length<=e)return-1;if(c[e]==d[e])e++;else return c[e]>d[e]?-1:1}}p.dc=n;
function S(a,b,c,d){b&&!a.A&&oa(a,c,d);a.A|=b;if(b==64)for(c=0;d=a.e[c];c++)d instanceof R&&S(d,64);if(!t(a.A)||!b)a.A=0;if(b&&a.Ea)a.Xd=n,S(a.Ea,-1);return a}p.Va=function(a,b){this.t=arguments.length==1&&ca(a)?new K(a,a):arguments.length==2?new K(arguments[0],arguments[1]):a;return this.k[E]?this:S(this,2)};p.b=function(a,b){this.h=arguments.length==2?new z(arguments[0],arguments[1]):a;return this.k[G]?this:S(this,ad)};
function ed(a,b){if(b!=a.j){if(a.j){var c=a.j;delete c.ec;ld(c,c.getParent());delete a.j.Ea}a.j=b;if(a.j)md(a.j),a.j.Ea=a;S(a,4)}}p.N=function(a,b){this.aa=arguments.length==2?new K(arguments[0],arguments[1]):a;return S(this,ad)};function nd(a,b){a.Eb=b;S(a,Zc);a.Oc=0}p.f=function(){return this.p};
p.c=function(a,b){var c=this.p,d,e;d=arguments.length==2?new A(arguments[0],arguments[1]):a;var f=this.aa;if(c&&this.e.length)for(var g=0;g<this.e.length;g++){var j=this.e[g];if(j.Rd){var k=j.Pc;if(k!=0){var o=od(j);e=c.width;var v=o.left+f.x*c.width,s=o.right-o.left,H=e-o.right-f.x*c.width;k&1&&(e-=v);k&2&&(e-=s);k&4&&(e-=H);e!=c.width&&(e=(d.width-e)/(c.width-e),k&1&&(v*=e),k&2&&(s*=e));e=c.height;var H=o.top+f.y*c.height,L=o.bottom-o.top,o=e-o.bottom-f.y*c.height;k&8&&(e-=H);k&16&&(e-=L);k&32&&
(e-=o);e!=c.height&&(e=(d.height-e)/(c.height-e),k&8&&(H*=e),k&16&&(L*=e));k=j.aa;j.c(s,L);j.b(v+k.x*s-f.x*d.width,H+k.y*L-f.y*d.height)}}}this.p=d;return S(this,2)};function pd(a){a.ea||qd(a);return a.ea}function qd(a){var b=t(a.ea)?a.ea:a.Ra;a.g&&a.g.ea&&(b=a.Ra*a.g.ea);if(b!=a.ea){a.ea=b;for(var b=0,c;c=a.e[b];b++)c instanceof R&&qd(c);S(a,2)}}p.Rd=function(){return this.Pc};p.ja=function(a){return!this.r?a:$c(this,this.getParent().ja(a))};
function $c(a,b){if(!a.getParent())return m;b.x-=a.h.x;b.y-=a.h.y;b.x/=a.t.x;b.y/=a.t.y;if(a.fa!=0){var c=b.d(),d=a.fa*Math.PI/180,e=Math.cos(d),d=Math.sin(d);b.x=e*c.x-d*c.y;b.y=e*c.y+d*c.x}return b}p.ob=function(a){return!this.r?a:this.getParent().ob(Aa(this,a))};function Aa(a,b){if(!a.getParent())return b;var c=b.d();if(a.fa!=0){var d=-a.fa*Math.PI/180,e=Math.cos(d),d=Math.sin(d);c.x=e*b.x-d*b.y;c.y=e*b.y+d*b.x}c.x*=a.t.x;c.y*=a.t.y;c.x+=a.h.x;c.y+=a.h.y;return c}
function rd(a,b){a.B=b;var c=a.Eb;a.B==0&&!c?(nd(a,l),a.Oc=1):a.B!=0&&c&&a.Oc&&nd(a,n);if(t(a.k[Xc]))return a;S(a,Yc);return a}function hd(a){function b(){this.a=this.C=this.S=xc(c);this.ib&&nc(this.a,this.ib);this.A|=-1}var c=B(a.n)==C?"canvas":"div";if(a.a){if(a.a.tagName.toLowerCase()!=c){var d=a.C;b.call(a);d.parentNode&&d.parentNode.replaceChild(a.C,d)}}else b.call(a)}function id(a){a.C&&(Dc(a.C),delete a.a,delete a.C,delete a.S)}
p.Ia=function(){this.A&=-65;this.qb()?hd(this):id(this);if(this.g&&this.g.A&64)this.g.Ia();else if(this.qb()){for(var a=0,b;b=this.e[a];a++)b instanceof R&&b.Ia();this.n.Ia.call(this)}};
p.update=function(a){var b,c,a=a||0;x(this);this.A&64&&this.Ia();var d=B(this.n)==I||a;if(d){for(var e in this.Hc)delete this.k[e],delete this.V[e],b=parseInt(e,10)==Xc?"opacity":Pc,Uc(this.a,b),this.a!=this.S&&Uc(this.se,b);b=0;for(e in this.ua)c=this.ua[e],c[3]||(c[3]=1,e==G&&this.ee!=this.h&&(S(this,ad,0,l),b=1),e==E&&this.he!=this.t&&(S(this,2,0,l),b=1),e==Xc&&this.be!=this.B&&(S(this,Yc,0,l),b=1),e==wa&&this.ge!=this.fa&&(S(this,128,0,l),b=1));if(!b)for(e in this.ua){c=this.ua[e];b=parseInt(e,
10)==Xc?"opacity":Pc;if(B(this.n)==I||b!="opacity")this.k[e]=c[0],Tc(this.a,b,c[1],c[2]),this.a!=this.S&&b==Pc&&Tc(this.S,b,c[1],c[2]);delete this.ua[e]}this.ee=this.h;this.he=this.t;this.be=this.B;this.ge=this.fa;this.Hc={}}if(a)this.n.Ld.call(this);else{if(B(this.n)==C){c=gd(this);c.Nb=1;if(c==this&&this.A==ad&&!this.j)c.Nb=0;oa(gd(this),1)}this.n.update.call(this)}if(d)for(e in this.k)this.k[e]&&(this.V[e]=l);if(this.ya)for(e=0;e<this.ya.length;e++)S(this.ya[e],7);S(this,0,a)};
p.getParent=function(){return this.g?this.g:m};p.appendChild=function(a,b){a instanceof R&&a.getParent()?a.getParent().removeChild(a):a.parentNode&&Dc(a);a.g=this;b==h?this.e.push(a):Ta(this.e,b,0,a);B(this.n)!=I&&fd(a,B(this.n));a instanceof R&&(qd(a),this.r&&sd(a));return S(this,64)};
p.removeChild=function(a){a=this.e.indexOf(a);if(a>=0&&this.e.length>a){var b=a>=0&&this.e.length>a?this.e[a]:m;b.Ea&&ed(b.Ea,m);b instanceof R?(this.r&&td(b),id(b),b.g=m):Dc(b);this.e.splice(a,1);a=S(this,64)}else a=this;return a};p.addEventListener=function(a){kc&&a.substring(0,5)=="mouse"||(t(this.D[a])||(this.D[a]=[0,0]),this.r&&this.D[a][0]==0&&(this.D[a][0]=1,this.L().Na.Ob(this,a)),this.D[a][1]++)};
p.removeEventListener=function(a){kc&&a.substring(0,5)=="mouse"||(this.r&&this.D[a][1]==1&&(this.D[a][0]=0,this.L().Na.rb(this,a)),this.D[a][1]--,this.D[a][1]||delete this.D[a])};p.L=function(){return!this.r?m:this.fc};p.Db=function(){return!this.r?m:this.Cc};function td(a){var b;a.ec||ld(a,a.getParent());for(var c=0;b=a.e[c];c++)b instanceof R&&td(b);for(var d in a.D){a.D[d][0]=0;if(!a.L())debugger;a.L().Na.rb(a,d)}ud(a.L().Na,a);a.r=n;a.fc=m;a.Cc=m}
function sd(a){a.r=l;a.fc=a.g.L();a.Cc=a.g.Db();for(var b=0,c;c=a.e[b];b++)c instanceof R&&sd(c);for(var d in a.D)a.D[d][0]=1,a.L().Na.Ob(a,d);a.ec&&md(a);ud(a.L().Na,a)}function md(a){a.ec=l;a.r&&vd(a,a.getParent())}function vd(a,b){if(!b.ya)b.ya=[];Oa(b.ya,a);!b&&!(b.getParent()instanceof D)&&vd(a,b.getParent())}function ld(a,b){b&&b.ya&&(Pa(b.ya,a),ld(a,b.getParent()))}function F(a){var b=a.f(),a=a.aa;return new qa(-b.height*a.y,b.width*(1-a.x),b.height*(1-a.y),-b.width*a.x)}
function od(a,b){var c=b||F(a),d=new z(c.left,c.top),e=new z(c.right,c.top),f=new z(c.left,c.bottom),c=new z(c.right,c.bottom),d=Aa(a,d),e=Aa(a,e),f=Aa(a,f),c=Aa(a,c);return new qa(Math.floor(Math.min(d.y,e.y,f.y,c.y)),Math.ceil(Math.max(d.x,e.x,f.x,c.x)),Math.ceil(Math.max(d.y,e.y,f.y,c.y)),Math.floor(Math.min(d.x,e.x,f.x,c.x)))}
p.Lb=function(){var a=F(this);a.left==a.right&&this.e.length&&(a=od(this.e[0],this.e[0].Lb()));for(var b=0,c;c=this.e[b];b++)if(c.oc!=1){var d=a;c=od(c,c.Lb());d.left=Math.min(d.left,c.left);d.top=Math.min(d.top,c.top);d.right=Math.max(d.right,c.right);d.bottom=Math.max(d.bottom,c.bottom)}return a};p.la=function(a){this.Hc[a]=1};p.Ca=function(a){var b=this.ja(a.Ta);return F(this).contains(b)?(a.position=b,l):n};function wd(a,b){Oa(b.Ha,a);b.play()};function T(){R.call(this);this.ib="lime-layer"}y(T,R);T.prototype.Ca=function(a){for(var b=0,c;c=this.e[b];b++)if(c.Ca(a))return a.position=this.ja(a.Ta),l;return n};var U=new function(){this.U=[];this.Ka=n;this.md=0;this.hc=1E3/30;this.Da=0};function xd(a,b){this.z=this.ud=a;this.pc=t(b)?b:-1;this.pa=[]}xd.prototype.Xa=function(a){if(this.pa.length)if(this.z>a)this.z-=a;else{var b=this.ud+a-this.z;this.z=this.ud-(a-this.z);if(this.z<0)this.z=0;for(var c,a=this.pa.length;--a>=0;)(c=this.pa[a])&&c[0]&&da(c[1])&&c[1].call(c[2],b);this.pc!=-1&&(this.pc--,this.pc==0&&U.yb(c[1],c[2]))}};U.U.push(new xd(0));U.Jc=q.mozRequestAnimationFrame||q.webkitRequestAnimationFrame;
U.ue=function(){return this.hc};U.Ae=function(a){this.hc=a;this.Ka&&(U.bd(),U.Kc())};U.Dc=function(a,b,c){c=t(c)?c:this.U[0];Oa(c.pa,[1,a,b]);Oa(this.U,c);this.Ka||U.Kc()};U.yb=function(a,b){for(var c=this.U.length;--c>=0;){for(var d=this.U[c],e=d.pa,f,g=e.length;--g>=0;)f=e[g],f[1]==a&&f[2]==b&&Pa(e,f);e.length==0&&c!=0&&Pa(this.U,d)}this.U.length==1&&this.U[0].pa.length==0&&U.bd()};
U.Kc=function(){if(!this.Ka)this.Da=la(),U.Jc?q.mozRequestAnimationFrame?kb>=11?(this.xa=ja(U.Nc,this),q.mozRequestAnimationFrame(this.xa)):(q.mozRequestAnimationFrame(),this.Rc=ja(U.Hd,this),q.addEventListener("MozBeforePaint",this.Rc,n)):(this.xa=ja(U.Nc,this),q.webkitRequestAnimationFrame(this.xa)):this.md=setInterval(ja(U.me,this),U.hc),this.Ka=l};
U.bd=function(){if(this.Ka)U.Jc?q.mozRequestAnimationFrame?kb>=11?q.mozCancelRequestAnimationFrame(this.xa):q.removeEventListener("MozBeforePaint",this.Rc,n):q.webkitCancelRequestAnimationFrame(this.xa):clearInterval(this.md),this.Ka=n};U.Nc=function(a){a||(a=la());U.gc(a-this.Da);this.Da=a;q.webkitRequestAnimationFrame?q.webkitRequestAnimationFrame(this.xa):q.mozRequestAnimationFrame(this.xa)};U.Hd=function(a){U.gc(a.timeStamp-this.Da);this.Da=a.timeStamp;q.mozRequestAnimationFrame()};
U.me=function(){var a=la(),b=a-this.Da;b<0&&(b=1);U.gc(b);this.Da=a};U.gc=function(a){for(var b=this.U.length;--b>=0;)this.U[b].Xa(a);if(na==1&&/Firefox\/4./.test(bb())&&!ma.re)U.wd?(document.body.style.MozTransform="",U.wd=0):(document.body.style.MozTransform="scale(1,1)",U.wd=1),na=0};U.Jd=function(a){for(var b,c,d,e,f=this.U.length;--f>=0;){b=this.U[f];for(e=b.pa.length;--e>=0;)d=b.pa[e],c=d[2],da(c.L)&&(c=c.L(),c==a&&(d[0]=l))}};U.Uc=function(a,b,c){U.Ec(a,b,c,1)};
U.Ec=function(a,b,c,d){U.Dc(a,b,new xd(c,d))};var yd;function V(){this.Ha=[];this.nc=[];this.Tb={};this.ve=n;this.m=1;this.Cb=zd;this.I=0}y(V,fc);p=V.prototype;p.scope="";p.H=function(a){this.m=a;return this};p.play=function(){this.yd=0;this.gd=this.I=1;U.Dc(this.Xa,this);this.dispatchEvent({type:"start"})};p.stop=function(){if(this.I!=0){var a=this.nc;if(Ad(this)&&this.la)for(var b=a.length;--b>=0;)this.la(a[b]);this.nc=[];this.Tb={};this.I=0;U.yb(this.Xa,this);this.dispatchEvent({type:"stop"})}};p.pb=function(){return{}};
function Bd(a,b){var c=x(b);t(a.Tb[c])||(a.lb(b),a.Tb[c]=a.pb(b));return a.Tb[c]}p.lb=function(a){Cd.Ob(this,a);this.I=1;Oa(this.nc,a);this.Sb&&!this.Bd&&this.eb&&this.eb()};p.L=function(){return this.Ha[0]?this.Ha[0].L():m};p.Xa=function(a){this.Sb&&!this.Bd&&this.eb&&this.eb();this.gd&&(delete this.gd,a=1);this.yd+=a;this.te=a;a=this.yd/(this.m*1E3);if(isNaN(a)||a>=1)a=1;a=this.va(a,this.Ha);a==1&&this.stop()};
p.va=function(a,b){a=this.Cb[0](a);isNaN(a)&&(a=1);for(var c=b.length;--c>=0;)this.update(a,b[c]);return a};function Ad(a){return a.m>0&&Sc&&a.ce&&!ic&&!fb}function Dd(a){a.ce=t(h)?h:l;return a}var Cd=new function(){this.i={}};Cd.Ob=function(a,b){if(a.scope.length){var c=x(b);t(this.i[c])||(this.i[c]={});t(this.i[c][a.scope])&&this.i[c][a.scope].stop();this.i[c][a.scope]=a}};Cd.Ce=function(a){a=x(a);if(t(this.i[a]))for(var b in this.i[a])this.i[a][b].stop(),delete this.i[a][b]};
(function(){function a(a){var e,f,g,s;for(g=a,f=0;f<8;f++){s=((b*g+c)*g+d)*g-a;if((s>=0?s:0-s)<5.0E-5)return g;e=(3*b*g+2*c)*g+d;if((e>=0?e:0-e)<1.0E-6)break;g-=s/e}e=0;f=1;g=a;if(g<e)return e;if(g>f)return f;for(;e<f;){s=((b*g+c)*g+d)*g;if((s-a>=0?s-a:0-(s-a))<5.0E-5)break;a>s?e=g:f=g;g=(f-e)*0.5+e}return g}var b=0,c=0,d=0,e=0,f=0,g=0;yd=function(j,k,o,v){return[function(s){d=3*j;c=3*(o-j)-d;b=1-d-c;g=3*k;f=3*(v-k)-g;e=1-g-f;return((e*a(s)+f)*a(s)+g)*a(s)},j,k,o,v]}})();var zd=yd(0.42,0,0.58,1);var Ed={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Fd(a){var b={},a=String(a),c=a.charAt(0)=="#"?a:"#"+a;if(Gd.test(c))return b.lc=Hd(c),b.type="hex",b;else{a:{var d=a.match(Id);if(d){var c=Number(d[1]),e=Number(d[2]),d=Number(d[3]);if(c>=0&&c<=255&&e>=0&&e<=255&&d>=0&&d<=255){c=[c,e,d];break a}}c=[]}if(c.length){e=c[0];a=c[1];c=c[2];e=Number(e);a=Number(a);c=Number(c);if(isNaN(e)||e<0||e>255||isNaN(a)||a<0||a>255||isNaN(c)||c<0||c>255)throw Error('"('+e+","+a+","+c+'") is not a valid RGB color');e=Jd(e.toString(16));a=Jd(a.toString(16));
c=Jd(c.toString(16));b.lc="#"+e+a+c;b.type="rgb";return b}else if(Ed&&(c=Ed[a.toLowerCase()]))return b.lc=c,b.type="named",b}throw Error(a+" is not a valid color string");}var Kd=/#(.)(.)(.)/;function Hd(a){if(!Gd.test(a))throw Error("'"+a+"' is not a valid hex color");a.length==4&&(a=a.replace(Kd,"#$1$1$2$2$3$3"));return a.toLowerCase()}function Ld(a,b,c){c<0?c+=1:c>1&&(c-=1);if(6*c<1)return a+(b-a)*6*c;else if(2*c<1)return b;else if(3*c<2)return a+(b-a)*(2/3-c)*6;return a}
var Gd=/^#(?:[0-9a-f]{3}){1,2}$/i,Id=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;function Jd(a){return a.length==1?"0"+a:a};function Md(){}y(Md,fc);Md.prototype.mc=r;function Nd(a){if(a[0]instanceof Md)return a[0];u(a)||(a=Sa(arguments));if(a.length>2)return new Od(a);else if(w(a[0])&&(a[0].substring(0,4)=="rgb("||a[0].substring(0,5)=="rgba("||a[0].substring(0,1)=="#"))return new Od(a[0]);return new Pd(a[0])}Md.prototype.vb=r;Md.prototype.ub=r;function Od(a){this.wa=1;this.Ua(a)}y(Od,Md);p=Od.prototype;p.id="color";function Qd(a,b){return Rd(a,2,b)}
function Rd(a,b,c){var c=c||0.1,d,e=m;if(ca(a.s)&&ca(a.Oa)&&ca(a.La))e=[a.s,a.Oa,a.La,a.wa];else if(w(a.ga)){var f=Fd(a.ga);if(f.type!="named")e=f.lc,e=Hd(e),e=[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),parseInt(e.substr(5,2),16)];e.push(1)}d=e;if(!d)return a;d.pop();e=d[0]/255;f=d[1]/255;d=d[2]/255;var g=Math.max(e,f,d),j=Math.min(e,f,d),k=0,o=0,v=0.5*(g+j);g!=j&&(g==e?k=60*(f-d)/(g-j):g==f?k=60*(d-e)/(g-j)+120:g==d&&(k=60*(e-f)/(g-j)+240),o=0<v&&v<=0.5?(g-j)/(2*v):(g-j)/(2-2*v));d=[Math.round(k+
360)%360,o,v];d[b]+=c;d[b]>1&&(d[b]=1);b=d[1];c=d[2];g=f=e=0;d=d[0]/360;b==0?e=f=g=c*255:(j=g=0,j=c<0.5?c*(1+b):c+b-b*c,g=2*c-j,e=255*Ld(g,j,d+1/3),f=255*Ld(g,j,d),g=255*Ld(g,j,d-1/3));d=[Math.round(e),Math.round(f),Math.round(g)];d.push(a.wa);return a.Ua(d)}
p.Ua=function(a){var b=a;if(w(a))return this.ga=a,this;arguments.length>2&&(b=arguments);if(b.length>=3)this.s=b[0],this.Oa=b[1],this.La=b[2];if(b.length==4)this.wa=b[3];this.ga=this.wa==1?"rgb("+this.s+","+this.Oa+","+this.La+")":"rgba("+this.s+","+this.Oa+","+this.La+","+this.wa+")";return this};p.vb=function(a){a.style.background=this.ga};p.ub=function(a){a.fillStyle=this.ga};p.d=function(){var a=new Od("");a.s=this.s;a.Oa=this.Oa;a.La=this.La;a.wa=this.wa;a.ga=this.ga;return a};function Pd(a){a&&da(a.data)&&(a=a.data());if(w(a)){this.W=a;if(this.W.length>50)this.W=this.W.substr(-50);Sd[this.W]?this.F=Sd[this.W]:(this.F=new Image,this.F.src=a)}else{this.W=a.src;if(this.W.length>50)this.W=this.W.substr(-50);this.F=Sd[this.W]?Sd[this.W]:a}Td(this)||Q(this.F,"load",this.Ud,n,this);Sd[this.W]=this.F}y(Pd,Md);var Sd={};p=Pd.prototype;p.id="image";
p.mc=function(a){var b=a.f(),c=this;!b.width&&!b.height&&(Td(this)?a.c(this.F.width,this.F.height):Q(this,"load",function(){var a=this.f();!a.width&&!a.height&&this.c(c.F.width,c.F.height)},n,a));Td(this)||Q(this,"load",function(){S(a,4)},n,this)};p.Ud=function(a){this.dispatchEvent(a)};function Td(a){return a.F&&a.F.width&&a.F.height}p.c=function(a,b,c){ca(a)&&(a=new A(a,b),b=c||n);this.p=a;this.je=b;return this};
function Ud(a,b){var c=b.f().d();if(a.p)a.je?(c.width*=a.p.width,c.height*=a.p.height):c=a.p;var d=new z(0,0);if(a.vc)a.we?(d.x=c.width*a.vc.x,d.y=c.height*a.vc.y):d=a.vc;return[c,d]}p.vb=function(a,b){a.style.background="url("+this.F.src+")";var c=Ud(this,b),d=c[0],c=c[1],e=pd(b);a.style[Rc("BackgroundSize")]=d.width*e+"px "+d.height*e+"px";d=b.O?b.O.Wb:0;a.style.backgroundPosition=c.x*e-d+"px "+(c.y*e-d)+"px";this.Ac&&(a.style.imageRendering="optimizeQuality")};
p.ub=function(a,b){var c=b.f(),d=F(b);if(c.width&&c.height)try{var e=this.F,f=Ud(this,b),g=f[0],j=f[1],k=a.createPattern(e,"repeat"),o=g.width/e.width,v=g.height/e.height;a.save();a.translate(d.left+j.x,d.top+j.y);a.scale(o,v);a.fillStyle=k;a.fillRect(-j.x/o,-j.y/v,c.width/o,c.height/v);a.restore()}catch(s){}};C.w={};I.w={};function W(){R.call(this);this.O=this.jb=m}y(W,R);W.prototype.id="sprite";W.prototype.Fa=[ta(I,I.w),ta(C,C.w)];W.prototype.o=function(a,b,c,d){this.jb=Nd(Sa(arguments));this.jb.mc(this);S(this,4);return this};I.w.v=function(a){this.jb===m||this.jb.vb(a,this);this.O===m?a.style.border="none":this.O.vb(a,this)};
C.w.v=function(a){var b=this.f(),c=this.jb,d=this.O;if(c||d){var e=F(this);c&&(c.ub(a,this),c.id!="image"&&c.id!="frame"&&a.fillRect(e.left,e.top,b.width,b.height));if(d&&(d.ub(a,this),this.id=="sprite"||this.id=="label"))c=d.Wb/2,a.strokeRect(e.left+c,e.top+c,b.width-2*c,b.height-2*c)}};function Vd(){V.call(this)}y(Vd,V);Vd.prototype.update=r;function Wd(a){V.call(this);var b=Sa(arguments);u(a)&&(b=a);this.i=b.length>2?[b.shift(),new Wd(b)]:b;this.H(this.i[0].m+this.i[1].m)}y(Wd,V);Wd.prototype.lb=function(a){V.prototype.lb.call(this,a);this.H(this.i[0].m+this.i[1].m);this.Wa=this.i[0].m/this.m;this.qa=-1};Wd.prototype.stop=function(){this.qa!=-1&&this.i[this.qa].stop(this.Ha);V.prototype.stop.apply(this,arguments)};
Wd.prototype.va=function(a,b){if(this.I==0)return a;for(var c=b.length;--c>=0;)Bd(this,b[c]);var d=c=0;a>=this.Wa?(c=1,d=this.Wa==1?1:(a-this.Wa)/(1-this.Wa)):(c=0,d=this.Wa!=0?a/this.Wa:1);if(this.qa==-1&&c==1)this.i[0].I=1,this.i[0].va(1,b),this.i[0].stop();if(this.qa!=c)this.qa!=-1&&(this.i[this.qa].va(1,b),this.i[this.qa].stop()),this.i[c].I=1;this.i[c].va(d,b);this.qa=c;return a};function Xd(a){V.call(this);var b=Sa(arguments);u(a)&&(b=a);b.length>2?(this.Pa=b.shift(),this.$a=new Xd(b)):(this.Pa=b[0],this.$a=b[1]);var b=this.Pa.m,c=this.$a.m;this.H(Math.max(b,c));var d=new Vd;if(b>c)this.$a=new Wd(this.$a,d.H(b-c));else if(b<c)this.Pa=new Wd(this.Pa,d.H(c-b))}y(Xd,V);Xd.prototype.lb=function(a){V.prototype.lb.call(this,a);this.Pa.I=1;this.$a.I=1};Xd.prototype.va=function(a,b){if(this.I!=0){for(var c=b.length;--c>=0;)Bd(this,b[c]);this.Pa.va(a,b);this.$a.va(a,b);return a}};C.Yb={};I.Yb={};I.Yb.v=function(a){var b=this.f();I.w.v.call(this,a);Wc(a,b.width*0.5,b.height*0.5)};C.Yb.v=function(a){this.f();var b=this.aa,c=F(this),d=(c.right-c.left)*0.5,c=(c.bottom-c.top)*0.5;a.save();a.save();a.scale(d,c);a.translate(1-2*b.x,1-2*b.y);a.beginPath();a.arc(0,0,1,0,2*Math.PI,n);a.closePath();a.restore();a.clip();C.w.v.call(this,a);this.O&&(a.lineWidth*=2,a.stroke());a.restore()};var Yd,Zd;function $d(){W.call(this);this.cc=new W;this.appendChild(this.cc);this.Pb=n;this.index=-1;this.Ac=l}y($d,W);var ae="#F00,#F90,#0C0,#0CC,#00C,#96F".split(",");$d.prototype.select=function(){if(!this.Pb){var a=this.f().d();this.ld=(new W).c(a).o("assets/selection.png");this.appendChild(this.ld,0);this.Pb=l}};function be(a){if(a.Pb)a.removeChild(a.ld),a.Pb=n}$d.prototype.update=function(){var a=this.f();this.cc.c(a.width*0.75,a.height*0.75);R.prototype.update.call(this)};function ce(a){V.call(this);this.B=a}y(ce,V);ce.prototype.scope="fade";ce.prototype.pb=function(a){var b=a.B;Ad(this)&&(a.ua[Xc]=[this.B,this.m,this.Cb,0],S(a,Yc));return{le:b,z:this.B-b}};ce.prototype.update=function(a,b){if(this.I!=0){var c=Bd(this,b);rd(b,c.le+c.z*a)}};ce.prototype.la=function(a){Ad(this)&&(a.la(Xc),S(a,Yc))};function de(a,b){V.call(this);this.t=arguments.length==1&&ca(a)?new K(a,a):arguments.length==2?new K(arguments[0],arguments[1]):a}y(de,V);de.prototype.scope="scale";de.prototype.pb=function(a){var b=a.t,c=new K(this.t.x-b.x,this.t.y-b.y);Ad(this)&&(a.ua[E]=[new K(b.x+c.x,b.y+c.y),this.m,this.Cb,0],S(a,2));return{Cd:b,z:c}};de.prototype.update=function(a,b){if(this.I!=0){var c=Bd(this,b);b.Va(c.Cd.x+c.z.x*a,c.Cd.y+c.z.y*a)}};de.prototype.la=function(a){Ad(this)&&(a.la(E),S(a,2))};function ee(a,b){V.call(this);this.gb=arguments.length==2?new z(arguments[0],arguments[1]):a}y(ee,V);p=ee.prototype;p.scope="move";function fe(a){a.Sb=0.3;a.eb();return a}p.pb=function(a){Ad(this)&&(a.ua[G]=[new z(a.h.x+this.gb.x,a.h.y+this.gb.y),this.m,this.Cb,0],S(a,ad));return{Ed:a.h}};p.eb=function(){if(this.Sb){var a=this.gb,b=new z(0,0),c=a.x-b.x,a=a.y-b.y;this.H(this.Sb*Math.sqrt(c*c+a*a)/100);this.Bd=1}};
p.update=function(a,b){if(this.I!=0){var c=Bd(this,b);b.b(c.Ed.x+this.gb.x*a,c.Ed.y+this.gb.y*a)}};p.la=function(a){Ad(this)&&(a.la(G),S(a,ad))};function ge(){this.sb={};this.ae=0}function he(a,b,c){var d=c.x+"_"+c.y;t(a.sb[d])||(a.sb[d]=[]);a.sb[d].push([b,c]);a.ae++}
ge.prototype.play=function(a){var b,c,d=0,e;for(e in this.sb){var f=this.sb[e];b=Dd(fe(new ee(f[0][1])));if(d<b.m)c=b,d=b.m;if(!a&&f.length>15){for(var g=fd(new T,C),j=f[0][0].getParent().getParent(),k=0;k<f.length;k++){var o=f[k][0];o.getParent().removeChild(o);g.appendChild(f[k][0])}j.appendChild(g);Q(b,"stop",function(){this.getParent().removeChild(this);for(var a=this.h,b=this.e.length-1;b>=0;){var c=this.e[b];this.removeChild(c);fd(c,I);j.Hb[c.J].appendChild(c);c.b(new z(a.x+c.h.x,a.y+c.h.y));
b--}},n,g);wd(g,b)}else{for(k=0;k<f.length;k++)Oa(b.Ha,f[k][0]);b.play()}}return c};function ie(a,b,c){W.call(this);this.jc=c;this.cb=690;this.rows=a;this.cols=b;this.K=Array(b);this.c(this.cb,this.cb).N(0,0);this.sd=(new W).c(this.cb,this.cb).o(100,0,0,0.1).N(0,0);this.appendChild(this.sd);ed(this,this.sd);this.Q=Math.round(this.cb/b);this.Hb=[];for(a=0;a<b;a++)this.Hb[a]=new T,this.appendChild(this.Hb[a]);je(this);U.Uc(this.uc,this,700);Q(this,["mousedown","touchstart"],this.zc)}y(ie,W);
function je(a){for(var b=0;b<a.cols;b++){a.K[b]||(a.K[b]=[]);for(var c=0,d=a.K[b].length;d<a.rows;d++){c++;var e;e=Math.floor(Math.random()*ae.length);var f=new $d;f.index=e;f.cc.o("assets/ball_"+e+".png");e=f;e.s=d;e.J=b;e.b((b+0.5)*a.Q,(-c+0.5)*a.Q);e.c(a.Q,a.Q);a.K[b].push(e);a.Hb[b].appendChild(e)}}}
ie.prototype.uc=function(a){var b,c,d=new ge;this.mb=1;for(var e=0;e<this.cols;e++)for(var f=0;f<this.rows;f++)b=this.K[e][f],b.s=f,b.J=e,c=new z((e+0.5)*this.Q,this.f().height-(f+0.5)*this.Q),c==b.h||(!c||!b.h?0:c.x==b.h.x&&c.y==b.h.y)||he(d,b,new z(c.x-b.h.x,c.y-b.h.y));(a=d.play(a))?Q(a,"stop",function(){this.mb=0;ke(this)},n,this):this.mb=0;return a||n};
function ke(a){var b=le(a);if(b.length){me(a.jc);var c=Dd(new Xd(new de(0),(new ce(0)).H(0.8)));Va(b);for(var d=[],e=0;e<b.length;e++)Oa(c.Ha,b[e]),Pa(a.K[b[e].J],b[e]),Oa(d,b[e].index);ne(a.jc,b.length*d.length);Q(c,"stop",function(){La(b,function(a){a.g.removeChild(a)},this);this.mb=0;this.uc()},n,a);je(a);a.mb=1;c.play()}else oe(a)}
function le(a){var b,c,d,e,f=[];for(b=0;b<a.rows;b++){i=-1;e=[];for(c=0;c<a.cols;c++){d=a.K[c][b];d.index==i&&e.push(d);if(d.index!=i||c==a.cols-1)e.length>=3&&ka(Ta,f,h,0).apply(m,e),e=[d];i=d.index}}for(c=0;c<a.cols;c++){i=-1;e=[];for(b=0;b<a.rows;b++){d=a.K[c][b];d.index==i&&e.push(d);if(d.index!=i||b==a.rows-1)e.length>=3&&ka(Ta,f,h,0).apply(m,e),e=[d];i=d.index}}return f}
ie.prototype.zc=function(a){if(!this.mb){var b=a.position,c=Math.floor(b.x/this.Q),b=this.rows-Math.ceil(b.y/this.Q);(a.type=="mousedown"||a.type=="touchstart")&&a.Za(["mouseup","touchend"],ie.prototype.zc);a=this.K[c][b];if(a!=this.Z)a.select(),this.Z?this.Z.s==a.s&&Math.abs(this.Z.J-a.J)==1||this.Z.J==a.J&&Math.abs(this.Z.s-a.s)==1?(pe(this,this.Z,a),delete this.Z):(be(this.Z),this.Z=a):this.Z=a}};
function pe(a,b,c,d){qe(a,b,c);var e=a.uc(l);!d&&!le(a).length?Q(e,"stop",function(){pe(this,b,c,l)},n,a):(be(b),be(c));delete a.Z}function qe(a,b,c){var d=b.J,e=b.s;b.J=c.J;b.s=c.s;c.J=d;c.s=e;a.K[b.J][b.s]=b;a.K[c.J][c.s]=c}ie.prototype.Rb=function(){this.hint&&wd(this.hint,new Wd((new de(1.3)).H(0.4),(new de(1)).H(0.4)))};
function oe(a){for(var b,c=0,d=0;d<a.cols;d++)for(var e=a.rows-1;e>=0;e--)for(var f=a.K[d][e],g=0;g<2;g++){var j=d,k=e;g==0?j++:k--;if(!(j>=a.cols||k<0))j=a.K[j][k],qe(a,f,j),k=le(a).length,k>c&&(c=k,b=f),qe(a,f,j)}a.hint=b;b=a.jc;a=a.hint;b.hint=a;t(a)?U.Uc(b.Rb,b,3500):re(b)};C.bb={};I.bb={};function X(){W.call(this);se(this,5)}y(X,W);X.prototype.id="roundedrect";X.prototype.Fa=[ta(I.w,I.bb),ta(C.w,C.bb)];function se(a,b){a.De=n;a.Bc=b;return a}I.bb.v=function(a){this.f();I.w.v.call(this,a);Wc(a,[this.Bc*this.Ra,this.Bc*this.Ra])};
C.bb.v=function(a){this.f();var b=F(this),c=this.Bc,d=b.left,e=b.top,f=b.right-b.left,b=b.bottom-b.top;a.save();a.beginPath();a.moveTo(d+c,e);a.lineTo(d+f-c,e);a.quadraticCurveTo(d+f,e,d+f,e+c);a.lineTo(d+f,e+b-c);a.quadraticCurveTo(d+f,e+b,d+f-c,e+b);a.lineTo(d+c,e+b);a.quadraticCurveTo(d,e+b,d,e+b-c);a.lineTo(d,e+c);a.quadraticCurveTo(d,e,d+c,e);a.closePath();a.clip();C.w.v.call(this,a);this.O&&(a.lineWidth*=2,a.stroke());a.restore()};function te(a,b){T.call(this);this.ib="lime-button";if(t(a))this.P=a,this.appendChild(this.P),this.xb=-1,ue(this,ve);t(b)&&we(this,b);var c=this;Q(this,["mousedown","touchstart","touchmove"],function(a){ue(c,xe);a.Za("mousemove",function(a){c.Ca(a)?ue(c,xe):ue(c,ve)});a.Za("touchmove",function(a){c.Ca(a)||(ue(c,ve),a.rb())});a.Za(["mouseup","touchend"],function(a){c.Ca(a)&&c.dispatchEvent({type:ye});ue(this,ve)})})}y(te,T);var ve=0,xe=1,ye="click";
function we(a,b){a.ia=b;a.appendChild(b);a.xb=-1;ue(a,ve)}function ue(a,b){if(b!=a.xb){a.xb==ve&&b==xe&&a.dispatchEvent({type:"down"});a.xb==xe&&b==ve&&a.dispatchEvent({type:"up"});var c=a.P;if(t(a.ia))xe==b?c=a.ia:nd(a.ia,l);c!=a.P&&nd(a.P,l);nd(c,n);a.xb=b}};C.ab={};I.ab={};function Y(a){W.call(this);this.q(a);ze(this,Ae);Z(this,14);$(this,"#000");Be(this,"center");Ce(this,"400");a=[0,0,0,0];t(h)&&(a[1]=a[3]=h);t(h)&&(a[2]=h);t(h)&&(a[3]=h);this.G=a;S(this,8);this.Wd=n;this.pd=1.15;this.ie(m);this.o(255,255,255,0)}y(Y,W);Y.prototype.id="label";var Ae="Arial";Y.prototype.Fa=[ta(I.w,I.ab),ta(C.w,C.ab)];
(function(){var a;Y.prototype.measureText=function(){t(a)||(a=document.createElement("canvas").getContext("2d"));var b=De(this)*this.Aa;a.font=this.Aa+"px "+this.ic;var c=a.measureText(this.ta),c=N?c.width:c.width+1;hc&&(c+=1);var d=this.O?this.O.Wb:0;return new A(this.G[1]+this.G[3]+c+d*2,this.G[0]+this.G[2]+b+d*2)}})();p=Y.prototype;p.f=function(){var a=R.prototype.f.call(this);return!a||!a.width&&!a.height?this.measureText():a};p.q=function(a){this.ta=a+"";S(this,4);delete this.Ic;return this};
function Ce(a,b){a.jd=b;S(a,8);return a}function ze(a,b){a.ic=b;S(a,8);return a}function Z(a,b){a.Aa=b;S(a,8);return a}function $(a,b){a.hd=b;S(a,8);return a}function De(a){var b=Math.abs(a.T.y)+a.$*2;return a.Wd?(a.pd+b)/a.Aa:a.pd+b/a.Aa}function Be(a,b){a.Mc=b;S(a,8);return a}
p.ie=function(a,b,c,d){arguments.length==1&&a===m?(this.wb="#ccc",this.$=0,this.Qb(0,0)):arguments.length==2?(this.wb=a,this.$=b,this.Qb(new K(0,0))):arguments.length==3?(this.wb=a,this.$=b,this.Qb(c)):(this.wb=a,this.$=b,this.Qb(c,d));S(this,8)};p.Qb=function(a,b){this.T=arguments.length==2?new K(arguments[0],arguments[1]):a;S(this,8)};p.update=function(){this.A&4&&delete this.od;R.prototype.update.apply(this,arguments)};
I.ab.v=function(a){I.w.v.call(this,a);var b=a.style;this.A&4&&Fc(a,this.ta);if(this.A&8)b.lineHeight=De(this),b.padding=Na(this.G,function(a){return a*pd(this)},this).join("px ")+"px",b.color=this.hd,b.fontFamily=this.ic,b.fontSize=this.Aa*pd(this)+"px",b.fontWeight=this.jd,b.textAlign=this.Mc,b.textShadow=this.$||this.T.x||this.T.y?this.wb+" "+this.T.x+"px "+this.T.y+"px "+this.$+"px":""};
C.ab.v=function(a){C.w.v.call(this,a);var b=F(this),c=-b.left-this.G[3]+b.right-this.G[1]+Math.abs(this.T.x)+Math.abs(this.$*2),d=0;if(!this.Ic){var d=[],e=this.ta.length,f=this.ta.match(fb?/[\s\.]+/g:/[\s-\.]+/g),g=0;if(f)for(var j=0;j<f.length;j++){var k=f[j],k=this.ta.indexOf(k,g)+k.length;d.push(this.ta.substring(g,k));g=k}g!=e&&d.push(this.ta.substring(g,e));this.Ic=d;d=1}f=this.O?this.O.Wb:0;a.save();e=this.Mc;e=="left"?a.translate(b.left+this.G[3]+f,b.top+this.G[0]+f):e=="right"?a.translate(b.right-
this.G[1]-f,b.top+this.G[0]+f):e=="center"&&a.translate((b.left+this.G[3]+b.right-this.G[1])*0.5,b.top+this.G[0]+f);b=De(this);a.fillStyle=this.hd;a.font=this.jd+" "+this.Aa+"px/"+b+" "+this.ic;a.textAlign=e;a.textBaseline="top";if(this.$||this.T.x||this.T.y)a.shadowColor=this.wb,a.shadowOffsetX=this.T.x,a.shadowOffsetY=this.T.y,a.shadowBlur=this.$;if(d||c!=this.od){d=[];e="";f=this.Ic;for(j=0;j<f.length;j++)e==""?e=f[j]:(g=a.measureText(Ba(e+f[j])),g.width>c?(d.push(Ba(e)),e=f[j]):e+=f[j]);d.push(e);
this.qc=d;this.od=c}if(this.qc){c=b*this.Aa;b=(t(this.$)?Math.abs(this.$):0)+(t(this.T)?Math.abs(this.T.y)/2:0);c=N?Math.floor(c):Math.round(c);for(d=0;d<this.qc.length;d++)a.fillText(this.qc[d],0,c*d+b-0.5)}a.restore()};function Ee(){this.fb=[];Fe(this)}y(Ee,Md);p=Ee.prototype;p.id="lineargradient";p.mc=function(a){(eb||M)&&fd(a,C)};function Fe(a){a.u=[0,0,0,1];return a}p.addColorStop=function(a,b){var c=Sa(arguments);c.shift();this.fb.push([a,Nd(c)]);return this};p.Od=function(a){return N?"color-stop("+a[0]+", "+a[1].ga+")":a[1].ga+" "+a[0]*100*this.fe+"%"};
p.vb=function(a,b){var c,d=F(b);c=d.right-d.left;var e=d.bottom-d.top;if(!N){var f=(this.u[2]-this.u[0])*c,g=(this.u[1]-this.u[3])*e,j=d.left+c*this.u[0],k=d.top+e*this.u[1],o=Math.atan2(g,f),v=-g/f;v==Infinity&&(v=Math.pow(10,10));d=o>0&&o<Math.PI/2?[d.right,d.top]:o>0?[d.left,d.top]:o>-Math.PI/2?[d.right,d.bottom]:[d.left,d.bottom];d=(d[1]+1/v*d[0]-k+v*j)/(v+1/v);v=v*d+k-j*v;d-=j;v-=k;this.fe=Math.sqrt((f*f+g*g)/(d*d+v*v))}f=Na(this.fb,this.Od,this);c=N?"-webkit-gradient(linear,"+this.u[0]*100+
"% "+this.u[1]*100+"%,"+this.u[2]*100+"% "+this.u[3]*100+"%,"+f.join(",")+")":"linear-gradient("+this.u[0]*100+"% "+this.u[1]*100+"% "+Math.atan2((this.u[1]-this.u[3])*e,(this.u[2]-this.u[0])*c)+"rad,"+f.join(",")+")";fb&&(c="-moz-"+c);a.style.background=c};p.ub=function(a,b){for(var c=this.u,d=F(b),e=d.right-d.left,f=d.bottom-d.top,c=a.createLinearGradient(d.left+e*c[0],d.top+f*c[1],d.left+e*c[2],d.top+f*c[3]),d=0;d<this.fb.length;d++)c.addColorStop(this.fb[d][0],this.fb[d][1].ga);a.fillStyle=c};function Ge(a){te.call(this,this.tc(a),this.tc(a));this.borderWidth=2;this.q(a);this.Ua("#62be00")}y(Ge,te);p=Ge.prototype;p.tc=function(a){var b=new X;b.X=new X;b.label=Z($(ze(Be(new Y(a),"center"),'"Trebuchet MS"'),"#010101"),17);b.appendChild(b.X);b.X.appendChild(b.label);return b};
p.Ua=function(a){a=Nd(a);La([this.P,this.ia],function(b){var c;b==this.ia?(c=a.d(),c=Rd(c,1,-0.2)):c=a;b.o(c);var d=Fe(new Ee);d.addColorStop(0,Qd(c.d(),0.13));d.addColorStop(0.5,Qd(c.d(),0.05));d.addColorStop(0.52,c);d.addColorStop(1,c);b.X.o(d)},this);return this};p.q=function(a){this.P.label.q(a);this.ia.label.q(a);return this};
p.c=function(a,b){if(this.P){this.P.c.apply(this.P,arguments);var c=this.P.f();La([this.P,this.ia],function(a){a.c(c);var b=c.d();b.width-=this.borderWidth;b.height-=this.borderWidth;a.X.c(b)},this)}return this};p.f=function(){return this.P.f()};function He(a){Ge.call(this,a);this.borderWidth=4;this.Ua("#000")}y(He,Ge);He.prototype.tc=function(){var a=se((new X).o("#fff"),10);a.X=se(new X,10);a.label=Z($(ze(Be(new Y,"center"),'"Trebuchet MS"'),"#eef"),28);a.appendChild(a.X);a.X.appendChild(a.label);return a};He.prototype.Ua=function(a){a=Nd(a);La([this.P,this.ia],function(b){var c=b==this.ia?Qd(a.d(),0.1):a,d=Qd(c.d(),0.3),e=Fe(new Ee);e.addColorStop(0,d);e.addColorStop(0.45,c);e.addColorStop(0.55,c);e.addColorStop(1,d);b.X.o(e)},this);return this};function D(){R.call(this);this.N(0,0);this.ib="lime-scene";hd(this)}y(D,R);D.prototype.Db=function(){return this};D.prototype.Lb=function(){return F(this)};function Ie(){D.call(this);var a=(new He("Back")).b(360,870).c(300,90);Q(a,"click",function(){Je()});this.appendChild(a);a=se(new X,30).o("#fff").c(700,560).b(360,420);this.appendChild(a);var b=(new W).o("assets/helper1.jpg").b(-160,30).Va(0.9);a.appendChild(b);b=(new W).o("assets/helper2.jpg").b(160,30).Va(0.9);a.appendChild(b);b=Be(Z(new Y,18).c(280,100).b(-160,-170),"left");b.q("Switch two neighbour balls to match up three, four or five same colored balls in a row.  Doing so will clear them and give you points.");
a.appendChild(b);b=Be(Z(new Y,18).c(280,100).b(160,-170),"left");b.q("You get extra points for making more than one match at once.");a.appendChild(b);b=Be(Z(new Y,18).c(550,40).b(0,220),"center");b.q("When there are no possible moves on the screen, the game ends.");a.appendChild(b)}y(Ie,D);function Ke(a,b){V.call(this);this.p=arguments.length==2?new A(arguments[0],arguments[1]):a}y(Ke,V);Ke.prototype.scope="size";Ke.prototype.pb=function(a){a=a.f();return{Dd:a,z:new K(this.p.width-a.width,this.p.height-a.height)}};Ke.prototype.update=function(a,b){if(this.I!=0){var c=Bd(this,b);b.c(c.Dd.width+c.z.x*a,c.Dd.height+c.z.y*a)}};function Le(){X.call(this);var a=320,b=50;se(this.c(a,b),20).N(0,0.5);this.o((new Ee).addColorStop(0,21,55,98,0.6).addColorStop(1,30,87,151,0.4));a-=16;b-=16;b=se(new X,12).c(a,b).o("#F90").N(0,0.5).b(8,0);this.appendChild(b);b.o((new Ee).addColorStop(0,"#afcdef").addColorStop(0.49,"#55a1fc").addColorStop(0.5,"#3690f4").addColorStop(1,"#8dc9ff"));this.width=a;this.X=b}y(Le,X);function Me(a,b){a.ze=b;wd(a.X,(new Ke(a.width*b,a.X.f().height)).H(0.4))};function Ne(a){D.call(this);this.yc=0;var b=new T;this.appendChild(b);this.R=(new ie(a,a,this)).b(25,174);/Chrome\/9\.0\.597/.test(bb())&&fd(this.R,C);for(var a=se((new X).c(690,690).N(0,0).b(17,166),30),c=0;c<this.R.cols;c++)for(var d=0;d<this.R.rows;d++){var e=(new W).o("assets/shadow.png").N(0,0).c(this.R.Q*0.94,this.R.Q*0.94).b(11+c*this.R.Q,11+d*this.R.Q);e.Ac=l;a.appendChild(e)}b.appendChild(a);b.appendChild(this.R);a=(new W).c(670,2).o("#295081").b(360,148);b.appendChild(a);a=(new W).c(670,
2).o("#295081").b(360,885);b.appendChild(a);a=Ce(Z($(ze(new Y,"Trebuchet MS"),"#4f96ed"),24).b(30,22).q("Score:").N(0,0),700);b.appendChild(a);this.Fc=Ce(Z($(new Y,"#fff"),92).q(0).b(30,40).N(0,0),700);b.appendChild(this.Fc);this.Sc=(new He("Menu")).c(140,70).b(100,945);Q(this.Sc,"click",function(){Je()});this.appendChild(this.Sc);this.Ab=rd((new He("Hint")).c(140,70).b(640,945),0);Q(this.Ab,"click",function(){this.hint&&this.R.Rb()},n,this);this.appendChild(this.Ab);this.ma=this.Kb=30;if(Yd==Oe)this.ne=
Be(Ce(Z($(ze(new Y,"Trebuchet MS"),"#4f96ed"),24).b(680,22).q("Time left:").N(1,0),700).c(300,30),"right"),b.appendChild(this.ne),this.Ub=(new Le).b(356,90),b.appendChild(this.Ub),U.Ec(this.ad,this,1E3);U.Ec(this.Fd,this,100);Pe(this)}y(Ne,D);Ne.prototype.ad=function(){this.ma--;this.ma<1&&re(this);Me(this.Ub,this.ma/this.Kb)};Ne.prototype.Fd=function(){var a=parseInt(this.Fc.ta,10);a<this.yc&&this.Fc.q(a+1)};function me(a){U.yb(a.Rb,a);wd(a.Ab,new ce(0));delete a.hint}
Ne.prototype.Rb=function(){wd(this.Ab,new ce(1))};function ne(a,b){a.yc+=b;a.ma+=b;if(a.ma>a.Kb)a.ma=a.Kb;a.Ub&&Me(a.Ub,a.ma/a.Kb)}
function re(a){$b(a.R,["mousedown","touchstart"],a.R.zc);U.yb(a.Fd,a);U.yb(a.ad,a);var b=se((new X).o(0,0,0,0.7).c(500,480).b(360,260).N(0.5,0),20);a.appendChild(b);var c=Z($((new Y).q(a.ma<1?"No more time!":"No more moves!"),"#ddd"),40).b(0,70);b.appendChild(c);c=$(Z((new Y).q("Your score:"),24),"#ccc").b(0,145);b.appendChild(c);c=Ce($(Z((new Y).q(a.yc),150),"#fff").b(0,240),700);b.appendChild(c);c=(new He).q("TRY AGAIN").c(200,90).b(-110,400);b.appendChild(c);Q(c,ye,function(){Qe(this.R.cols)},
n,a);c=(new He).q("MAIN MENU").c(200,90).b(110,400);b.appendChild(c);Q(c,ye,function(){Je()})};function Re(){D.call(this);this.a.style.cssText="background:rgba(255,255,255,.8)"}y(Re,D);function Se(a){this.hb=a;this.identifier=0}Se.prototype.Za=function(a,b,c){for(var a=u(a)?a:[a],d=0;d<a.length;d++)this.hb.Za(this,a[d],b);c&&this.event.stopPropagation()};Se.prototype.rb=function(a){var b=t(a),c=u(a)?a:[a];if(a=this.hb.sa[this.identifier]){var d=this,a=Ma(a,function(a){return!t(d.Ga)||a[0]==d.Ga&&(!b||Ka(c,a[1])>=0)?($b(a[0],a[1],a[2]),n):l});a.length?this.hb.sa[this.identifier]=a:delete this.hb.sa[this.identifier]}};Se.prototype.d=function(){var a=new Se(this.hb);ua(a,this);return a};function Te(a){this.za=a;this.M={};this.sa={}}Te.prototype.Ob=function(a,b){t(this.M[b])?Ka(this.M[b],a)>=0||(this.M[b].push(a),this.M[b].sort(kd)):(this.M[b]=[a],Q(b.substring(0,5)=="touch"&&a!=this.za?document:b.substring(0,3)=="key"?window:this.za.a.parentNode,b,this,n,this))};Te.prototype.rb=function(a,b){t(this.M[b])&&(Pa(this.M[b],a),this.M[b].length||($b(this.za.a.parentNode,b,this,n,this),delete this.M[b]))};function ud(a,b){for(var c in a.M){var d=a.M[c];Ka(d,b)>=0&&d.sort(kd)}}
Te.prototype.Za=function(a,b,c){var d=a.identifier;t(this.sa[d])||(this.sa[d]=[]);this.sa[d].push([a.Ga,b,c]);Q(a.Ga,b,r)};
Te.prototype.handleEvent=function(a){if(t(this.M[a.type])){for(var b=this.M[a.type].slice(),c=n,d=0,e=0;!e;){var f=new Se(this);f.type=a.type;f.event=a;if(a.type.substring(0,5)=="touch"){var g=a.oa.changedTouches[d];f.Ta=new z(g.pageX,g.pageY);f.identifier=g.identifier;d++;d>=a.oa.changedTouches.length&&(e=1)}else f.Ta=new z(a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,a.clientY+document.body.scrollTop+document.documentElement.scrollTop),e=1;if(t(this.sa[f.identifier])){for(var g=
this.sa[f.identifier],j=0;j<g.length;j++)if(g[j][1]==a.type||u(g[j][1])&&Ka(g[j][1],a.type)>=0){var k=g[j][0];f.Ga=k;f.position=k.ja(f.Ta);g[j][2].call(k,f);c=l}if(a.type=="touchend"||a.type=="touchcancel"||a.type=="mouseup"||a.type=="keyup")delete f.Ga,f.rb()}else for(j=0;j<b.length;j++)if(k=b[j],!((this.za.l.length?this.za.l[this.za.l.length-1]:m)!=k.Db()&&k!=this.za)&&!k.Eb&&k.r)if(f.Ga=k,k.Ca(f)||a.type.substring(0,3)=="key")if(f.Ga=k,k.dispatchEvent(f),c=l,f.event.ra)break}c&&a.preventDefault()}};function Ue(a){this.Ja=a||window;this.Ib=Q(this.Ja,"resize",this.Sd,n,this);this.p=wc(this.Ja||window);if(N&&jb||eb&&this.Ja.self!=this.Ja.top)this.Xb=window.setInterval(ja(this.Wc,this),Ve)}y(Ue,fc);var Ve=500;p=Ue.prototype;p.Ib=m;p.Ja=m;p.p=m;p.Xb=m;p.f=function(){return this.p?this.p.d():m};p.da=function(){Ue.Ya.da.call(this);if(this.Ib)ac(this.Ib),this.Ib=m;if(this.Xb)window.clearInterval(this.Xb),this.Xb=m;this.p=this.Ja=m};p.Sd=function(){this.Wc()};
p.Wc=function(){var a=wc(this.Ja||window);if(!(a==this.p||(!a||!this.p?0:a.width==this.p.width&&a.height==this.p.height)))this.p=a,this.dispatchEvent("resize")};function We(a,b){this.m=1;this.Mb=a;this.kb=b;this.Nd=n}y(We,fc);We.prototype.H=function(a){this.m=a;return this};We.prototype.start=function(){this.kb.b(new z(0,0));nd(this.kb,n);this.finish()};We.prototype.finish=function(){this.dispatchEvent(new Cb("end"));this.Nd=l};function Xe(a,b,c){R.call(this);this.r=l;this.N(0,0);this.l=[];this.Zc=[];this.ib="lime-director";hd(this);a.appendChild(this.a);if(N&&gb)this.Yc=document.createElement("div"),nc(this.Yc,"lime-cover-below"),Bc(this.Yc,this.a),this.Xc=document.createElement("div"),nc(this.Xc,"lime-cover-above"),Cc(this.Xc,this.a);a.style.position!="absolute"&&(a.style.position="relative");a.style.overflow="hidden";if(a==document.body){Nc("html,body{margin:0;padding:0;height:100%;}");var d=document.createElement("meta");
d.name="viewport";var e="width=device-width,initial-scale=1.0,minimum-scale=1,maximum-scale=1.0,user-scalable=no";/android/i.test(navigator.userAgent)&&(e+=",target-densityDpi=device-dpi");d.content=e;document.getElementsByTagName("head").item(0).appendChild(d);if(gb&&!q.navigator.ke){var f=this;setTimeout(function(){window.scrollTo(0,0);f.Gb()},100)}}var g,a=Lc(a);this.c(new A(g=b||a.width||400,c||a.height*g/a.width||400));this.cd&&Dc(this.Qd);this.Vd=this.cd=n;U.Jd(this);if(this.Vd)this.xc=new (this.ye||
Re),Ye(this,this.xc);else if(this.xc){if(this.l.length)td(this.l[this.l.length-1]),this.l[this.l.length-1].g=m,Dc(this.l[this.l.length-1].a),this.l.pop();delete this.xc}b=new Ue;Q(b,"resize",this.Gb,n,this);Q(q,"orientationchange",this.Gb,n,this);U.Dc(this.Xa,this);this.Na=new Te(this);Q(this,["touchmove","touchstart"],function(a){a.event.preventDefault()},n,this);Q(this,["mouseup","touchend","mouseout","touchcancel"],function(){},n);this.Gb()}y(Xe,R);p=Xe.prototype;p.L=function(){return this};
p.Db=function(){return m};p.Xa=function(a){if(this.cd&&(this.kd++,this.Zb+=a,this.Zb>100))this.Pd=1E3*this.kd/this.Zb,Fc(this.Qd,this.Pd.toFixed(2)),this.Zb=this.kd=0;pa()};
function Ze(a){var b=Zd,c=$e;a.c(b.f().d());var c=c||We,d=m;b.l.length&&(d=b.l[b.l.length-1]);for(var e=[],f=b.l.length;--f>=0;)td(b.l[f]),e.push(b.l[f].a),b.l[f].g=m;b.l.length=0;b.l.push(a);a.a.style.display="none";b.a.appendChild(a.a);a.g=b;sd(a);a=new c(d,a);Q(a,"end",function(){for(var a=e.length;--a>=0;)Dc(e[a])},n,b);t(h)&&a.H(h);a.start()}p.Ia=function(){this.A&=-65};function Ye(a,b){b.c(a.f().d());a.l.push(b);a.a.appendChild(b.a);b.g=a;sd(b)}
p.ja=function(a){a=a.d();a.x-=this.Bb.x+this.h.x;a.y-=this.Bb.y+this.h.y;a.x/=this.t.x;a.y/=this.t.y;return a};p.ob=function(a){a=a.d();a.x*=this.t.x;a.y*=this.t.y;a.x+=this.Bb.x+this.h.x;a.y+=this.Bb.y+this.h.y;return a};p.update=function(){R.prototype.update.call(this);for(var a=this.Zc.length;--a>=0;)this.Zc[a].update()};
p.Gb=function(){var a=Lc(this.a.parentNode);if(this.a.parentNode==document.body&&(window.scrollTo(0,0),ca(window.innerHeight)))a.height=window.innerHeight;var b;b=this.f().d();b=b.scale(b.width/b.height>a.width/a.height?a.width/b.width:a.height/b.height);this.Va(b.width/this.f().width);a.width/a.height<b.width/b.height?this.b(0,(a.height-b.height)/2):this.b((a.width-b.width)/2,0);var c=this.a.parentNode,d,e=rc(c),f=Gc(c,"position"),g=fb&&e.getBoxObjectFor&&!c.getBoundingClientRect&&f=="absolute"&&
(d=e.getBoxObjectFor(c))&&(d.screenX<0||d.screenY<0);b=new z(0,0);var j;d=e?e.nodeType==9?e:rc(e):document;if(j=M)if(j=!vb())j=pc(d),j=!tc(j.na);j=j?d.body:d.documentElement;if(c!=j)if(c.getBoundingClientRect)d=Hc(c),e=pc(e).na,c=!N&&tc(e)?e.documentElement:e.body,e=e.parentWindow||e.defaultView,c=new z(e.pageXOffset||c.scrollLeft,e.pageYOffset||c.scrollTop),b.x=d.left+c.x,b.y=d.top+c.y;else if(e.getBoxObjectFor&&!g)d=e.getBoxObjectFor(c),c=e.getBoxObjectFor(j),b.x=d.screenX-c.screenX,b.y=d.screenY-
c.screenY;else{d=c;do{b.x+=d.offsetLeft;b.y+=d.offsetTop;d!=c&&(b.x+=d.clientLeft||0,b.y+=d.clientTop||0);if(N&&Gc(d,"position")=="fixed"){b.x+=e.body.scrollLeft;b.y+=e.body.scrollTop;break}d=d.offsetParent}while(d&&d!=c);if(eb||N&&f=="absolute")b.y-=e.body.offsetTop;for(d=c;(d=Ic(d))&&d!=e.body&&d!=j;)if(b.x-=d.scrollLeft,!eb||d.tagName!="TR")b.y-=d.scrollTop}this.Bb=b;if(gb&&this.a.parentNode==document.body){if(this.xd)b=this.xd,Dc(b.ownerNode||b.owningElement||b);this.xd=Nc("html{height:"+(a.height+
120)+"px;overflow:hidden;}")}};p.Ca=function(a){if(a&&a.Ta)a.position=this.ja(a.Ta);return l};function $e(a,b){We.call(this,a,b)}y($e,We);$e.prototype.start=function(){rd(this.kb,0);nd(this.kb,n);var a=Dd((new ce(0)).H(this.m));Q(a,"stop",function(){this.Mb&&rd(this.Mb,1)},n,this);this.Mb&&wd(this.Mb,a);a=(new ce(1)).H(this.m);wd(this.kb,a);Q(a,"stop",this.finish,n,this)};var Oe=1;
function Je(){var a=new D,b=(new T).b(360,0);/Chrome\/9\.0\.597/.test(bb())&&fd(b,C);var c=(new W).o("assets/main_title.png").b(0,290);c.Ac=l;b.appendChild(c);var d=(new T).b(0,430);b.appendChild(d);var e=Dd(new ee(-720,0)),f=af("Play Classic").b(0,200);Q(f,"click",function(){Yd=0;wd(d,e)});d.appendChild(f);f=af("Play Timed").b(0,320);Q(f,"click",function(){Yd=Oe;wd(d,e)});d.appendChild(f);f=af("Help").b(0,440);Q(f,"click",function(){var a=new Ie;Pe(a);Ze(a)});d.appendChild(f);c=(new T).b(720,0);
d.appendChild(c);f=Z($((new Y).q("Select board size:"),"#fff"),24).b(0,140);c.appendChild(f);f=af("6x6").b(0,200);Q(f,"click",function(){Qe(6)});c.appendChild(f);f=af("7x7").b(0,320);Q(f,"click",function(){Qe(7)});c.appendChild(f);f=af("8x8").b(0,440);Q(f,"click",function(){Qe(8)});c.appendChild(f);a.appendChild(b);Pe(a);Ze(a)}function af(a){return(new He(a)).c(300,90)}function Qe(a){a=new Ne(a);Ze(a)}
function Pe(a){var b=(new W).o("assets/lime.png"),c=Z($((new Y).q("Built with"),"#fff"),24).b(290,960),b=(new te(b)).Va(0.3).b(410,960);Q(b,"click",function(){window.location.href="http://www.limejs.com/"});a.appendChild(c);a.appendChild(b)}
function bf(){var a=Zd=new Xe(document.body,720,1004),b=document.createElement("meta");b.name="apple-mobile-web-app-capable";b.content="yes";document.getElementsByTagName("head").item(0).appendChild(b);b=document.createElement("meta");b.name="apple-mobile-web-app-status-bar-style";b.content="black";document.getElementsByTagName("head").item(0).appendChild(b);b=n;t(localStorage)&&(b=localStorage.getItem("_lime_visited"));/(ipod|iphone|ipad)/i.test(navigator.userAgent)&&!window.navigator.ke&&!b&&a.a.parentNode==
document.body&&(alert("Please install this page as a web app by clicking Share + Add to home screen."),t(localStorage)&&localStorage.setItem("_lime_visited",l));Je()}var cf="rb.start".split("."),df=q;!(cf[0]in df)&&df.execScript&&df.execScript("var "+cf[0]);for(var ef;cf.length&&(ef=cf.shift());)!cf.length&&t(bf)?df[ef]=bf:df=df[ef]?df[ef]:df[ef]={};
